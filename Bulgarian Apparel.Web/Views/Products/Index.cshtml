@model Bulgarian_Apparel.Web.Models.Products.ProductFormViewModel

@Styles.Render("~/Content/Styles/advanced.css")
@Styles.Render("~/Content/Styles/jBox.css")




<div style="display: none" id="viewBox">


    @using (Html.BeginForm("MakeAnOrder", "Orders", FormMethod.Post, new { @class = "form-vertical", role = "form" }))
    {
        <div id="order-container">
            <img id="order-image" src="" width="480" height="480" alt="" />
            <hr />
            <strong id="product-description"> </strong>
            <h2 id="order-price"></h2>
            <hr />
            <div class="form-group">
                @Html.LabelFor(m => m.Order.SizeSelectedId)
                @Html.DropDownListFor(m => m.Order.SizeSelectedId, new SelectList(Model.Product.Sizes, "Id", "Name"), "", new { @class = "form-control" })
            </div>
            <div class="form-group">
                @Html.LabelFor(m => m.Order.ColorSelectedId)
                @Html.DropDownListFor(m => m.Order.ColorSelectedId, new SelectList(Model.Product.Colors, "Id", "Name"), "", new { @class = "form-control" })
            </div>
            @Html.HiddenFor(m=>m.Product.Id)
            @Html.AntiForgeryToken()
            <input class="btn btn-primary" type="submit" value="Order now" name="makeorder" />
            <input class="btn btn-primary" type="submit" value="Add to cart" name="addtocart" />
        </div>
    }

</div>

<hr />


<div id="container">
    <div class="item">
        <img src="@Model.Product.ImageResources[0]" width="640" height="480" alt="" />
        <div id="product-name">
            @Model.Product.Name
            <p>$ <span id="product-price">@Model.Product.Price</span></p>
        </div>
        <button class="btn btn-primary view" data-id="@Model.Product.Id" data-name="@Model.Product.Name" data-summary="@Model.Product.Description" data-price="@Model.Product.Price" data-image="@Model.Product.ImageResources[2]">View product</button>
        <button class="btn btn-primary">Add to wishlist</button>                                                                                                
    </div>                                                                                                                                                      
                                                                                                                                                                
    <div class="item">                                                                                                                                          
        <img src="@Model.Product.ImageResources[1]" width="640" height="480" alt="" />                                                                          
        <div id="product-name">                                                                                                                                 
            @Model.Product.Name                                                                                                                                 
            <p>$ <span id="product-price">@Model.Product.Price</span></p>                                                                                       
        </div>                                                                                                                                                  
        <button class="btn btn-primary view" data-id="@Model.Product.Id" data-name="@Model.Product.Name" data-summary="@Model.Product.Description" data-price="@Model.Product.Price" data-image="@Model.Product.ImageResources[2]">View product</button>
        <button class="btn btn-primary">Add to wishlist</button>                                                                                                
    </div>                                                                                                                                                      
                                                                                                                                                                
    <div class="item">                                                                                                                                          
        <img src="@Model.Product.ImageResources[2]" width="640" height="480" alt="" />                                                                          
        <div id="product-name">                                                                                                                                 
            @Model.Product.Name                                                                                                                                 
            <p>$ <span id="product-price">@Model.Product.Price</span></p>                                                                                       
        </div>                                                                                                                                                  
        <button class="btn btn-primary view" data-id="@Model.Product.Id" data-name="@Model.Product.Name" data-summary="@Model.Product.Description" data-price="@Model.Product.Price" data-image="@Model.Product.ImageResources[2]">View product</button>
        <button class="btn btn-primary">Add to wishlist</button>                                                                                               
    </div>                                                                                                                                                     
                                                                                                                                                               
    <div class="item">                                                                                                                                         
        <img src="@Model.Product.ImageResources[2]" width="640" height="480" alt="" />                                                                         
        <div id="product-name">                                                                                                                                
            @Model.Product.Name                                                                                                                                
            <p>$ <span id="product-price">@Model.Product.Price</span></p>                                                                                      
        </div>                                                                                                                                                 
        <button class="btn btn-primary view" data-id="@Model.Product.Id" data-name="@Model.Product.Name" data-summary="@Model.Product.Description" data-price="@Model.Product.Price" data-image="@Model.Product.ImageResources[2]">View product</button>
        <button class="btn btn-primary" data-id="@Model.Product.Id" data-name="@Model.Product.Name" data-summary="@Model.Product.Description" data-price="@Model.Product.Price" data-quantity="1" data-image="@Model.Product.ImageResources[2]">Add to cart</button>
    </div>
</div>

@section scripts{    
    
<script src="~/Scripts/jquery-3.2.1.js"></script>
<script src="~/Scripts/jquery.wrecker.min.js"></script>
<script src="~/Scripts/jBox.js"></script>
<script type="text/javascript">
      

        $("#container").wrecker({
            itemSelector: ".item",
            maxColumns: 3
        });
        $('.view').click(function () {

            var path = $(this).data("image");
            var title = $(this).data("name");
            var price = $(this).data("price");
            var desc = $(this).data("summary");

            $("#order-image").attr("src", path);
            $("#product-description").text("Summary: " + desc);
            $("#order-price").text(price + " $");

            var myModal = new jBox('Modal', {
                title: title,
                content: $('#viewBox')
            });

            myModal.open();
    });
        $('#add-to-cart').click(function () {
            console.log("added to cart")
        });
</script>
}